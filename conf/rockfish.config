/*
    Rockfish Configuration
*/

params {
    baseDir = "/vast/eande106"
    softwareDir = "/data/eande106/software"
    dataDir = "/vast/eande106/data"
    workDir = "/vast/eande106/work"
    platform = "Rockfish"
    anaconda = "anaconda/2022.05"
    gcp = false
    genome = "WS283"
    tmpdir = "/scratch4/eande106/tmp"
}

executor {
    queueStatInterval = '5min'
    pollInterval = '1min'
    queueSize = 50
    submitRateLimit = '10sec'
}

process {
    executor = 'slurm'
    clusterOptions = '-A eande106 -t 2:00:00 -e errlog.txt -N 1'
    cpus = 4
    memory = "16G"
    queue = "shared"
}

singularity {
    enabled = true
    autoMounts = true
    cacheDir = "${params.baseDir}/singularity"
    pullTimeout = '20 min'
    envWhitelist = "SLURMD_HOSTNAME,SLURM_JOB_NODELIST,SLURM_NODELIST,SLURM_STEP_NODELIST,SLURM_TOPOLOGY_ADDR"
}
